# Критерии

## Backend

### Сервис аутентификации и авторизации

* Для аутентификации используется связка почта & хэш пароля.
* Для авторизации используется связка uid & почта & хэш пароля.
* BE **не хранит** и **не принимает** нехэшированный пароль.
* Все данные передаются по HTTPS.
* Для авторизации после аутентефикации и продления сессии используется механизм access token & refresh token.
* Все токены подписываются с использованием алгоритма HMAC или RSA.
* Реализована защита от брутфорс атак через ограничение количества попыток входа.

### Статистика тренировок

* Собирать статистику о тренировках и здоровье при помощи Cloud Healthcare API и/или ~~healthkit~~
* Возвращать базовую информацию о здоровье.
* Возвращать **какую-то** информацию обо всех тренировках.
* Полностью поддержать **несколько** типов тренировок с их анализом и сбором статистики
* Реализовать возможность фильтрации и сортировки данных по дате, типу тренировки и другим параметрам.
* Добавить возможность настройки целей и отслеживания их выполнения.
* Собирать информацию о тренировках для рекомендательной системы в новостях.

### Новостная составляющая

* Использовать [полностью бесплатные](https://github.com/public-apis/public-apis?tab=readme-ov-file#sports--fitness) или [частично бесплатные](https://www.thenewsapi.com/pricing) API для получения новостей.
* Реализовать систему тегов к новостям.
* Хранить новости локально, чтобы уменьшить количество запросов к API.
* Реализовать возможность персонализации новостей на основе предпочтений пользователя.

## Frontend

### Аутентификация

**Никнейм:** от 3 до 30 символов [a-zA-Z0-9_.]
**Почта:**
  - Имя пользователя (до @):
    Буквы, цифры, точки, подчёркивания, плюсы, проценты и дефисы. Минимум 1 символ
  - Собака (@)
  - Доменное имя (после @):
    Буквы, цифры, точки и дефисы. Минимум 1 символ
  - Точка (.)
  - Домен верхнего уровня:
    Минимум 2 буквы.

**Пароль:**
 - Длина от 8 символов
 - Хотя бы одна заглавная буква
 - Хотя бы один спецсимвол `[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]`
 - Хотя бы одна цифра

**"Забыл пароль":**
- Валидация введенной почты, проверка полученного кода на корректность
- Валидация нового пароля

**Регистрация:**
- Валидная почта, пароль.
- Верный код, пришедший на почту для подтверждения.


### Новости

- Фильтрация по доступным тегам, можно выбрать несколько тегов. не требует доп. подтверждения.
- Каждый блок содержит заголовок, подзаголовок и начало основного текста статьи, обрывающееся троеточием
- У каждого блока "новость" есть кнопка "сохранить" и "поделиться"
- На каждый блок "новость" можно нажать, раскрыв его на весь экран
- У раскрытой новости также есть кнопки "сохранить" и "поделиться"
- Кнопка "сохранить" добавляет новость в раздел сохраненных новостей
- Кнопка "поделиться" либо сразу копирует ссылку, либо вызывает всплывающее окно, в котором предлагаются варианты отправки новости.
- Кнопка "открыть сохраненные новости" открывает раздел сохраненных новостей, откуда их можно открывать и удалять


### Статистика

- Отображается по такому же блочному принципу, как и ["новости"](#новости)
- Первый блок: сумма по всем тренировкам. Остальные блоки = сводка по отдельно взятым тренировкам
- Фильтрация по доступным тегам + по датам. Диапазон дат ограничен первой тренировкой и сегодняшним днём. Ввод доступен как через инпуты, так и через календарь.

#### Кнопка "выгрузить данные":
- если в ближайшее время (~минута) не было выгрузки данных, до активна
- при нажатии подтягивает данные об тренировках, уведомляет пользователя об успешности операции.


### Настройки
- Смена пароля: см. "забыл пароль" [(аутентификация)](#аутентификация)
- Смена почты: ввод пароля -> новая валидная почта -> код подтверждения

**Привязка к Google Fit:** 
- Авторизация через Google аккаунт -> предоставление доступа к данным об активностях
- Если привязка уже имеется, то появляется кнопка "Удалить привязку"